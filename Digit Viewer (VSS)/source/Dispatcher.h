/* Dispatcher.h
 * 
 * Author           : Alexander J. Yee
 * Date Created     : 05/18/2014
 * Last Modified    : 05/18/2014
 * 
 */

#pragma once
#ifndef _Dispatcher_H
#define _Dispatcher_H
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
//  Dependencies
#include "y-cruncher/ProcessorCapability/cpu_x86_headers.h"
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
bool can_run_x86(const cpu_x86 &){
    return true;
}
bool can_run_x86_SSE2(const cpu_x86 &features){
    return can_run_x86(features)
        && features.HW_SSE
        && features.HW_SSE2;
}
bool can_run_x64_SSE2(const cpu_x86 &features){
    return can_run_x86_SSE2(features)
        && features.OS_x64
        && features.HW_x64;
}
bool can_run_x64_SSE41(const cpu_x86 &features){
    return can_run_x64_SSE2(features)
        && features.HW_SSSE3
        && features.HW_SSE41;
}
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
#endif
